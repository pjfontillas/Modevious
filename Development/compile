# remove old build files
if [ -d build/console ]
then
rm build/console/*
rmdir build/console
fi
if [ -d build/dumbcrossfade ]
then
rm build/dumbcrossfade/*
rmdir build/dumbcrossfade
fi
if [ -d build/images ]
then
rm build/images/*
rmdir build/images
fi
if [ -d build ]
then
rm build/*
rmdir build
fi

# create files to hold compiled scripts and style sheets
mkdir build
touch build/library.js
touch build/library.css
mkdir build/console
mkdir build/dumbcrossfade
mkdir build/images

# Prototype JS
cat js/src/prototype.js >> build/library.js

# jQuery
cat js/src/jquery-1.4.3.min.js >> build/library.js

# Core libary
cat css/core.min.css >> build/library.css
cat js/src/core.min.js >> build/library.js

# jQuery User interface
cp css/jquery-ui-1.8.5.custom.css build
cat js/src/jquery-ui-1.8.5.min.js >> build/library.js

# jQuery Tools
cat js/src/jquery.tools.min.js >> build/library.js

# autoMouseOver jQuery plugin
cat js/src/jquery.autoMouseOver.min.js >> build/library.js

# Pines Notify jQuery plugin
cat css/jquery.pnotify.min.css >> build/library.css
cat js/src/jquery.pnotify.min.js >> build/library.js

# dumbCrossfade jQuery plugin
cat css/dumbcrossfade.min.css >> build/library.css
cat js/src/jquery.dumbcrossfade-2.0.min.js >> build/library.js

# Sound Manager 2 component
cat js/src/soundmanager2-nodebug-jsmin.js >> build/library.js

# Encryption components
cat js/src/md5-min.js >> build/library.js
cat js/src/ripemd160-min.js >> build/library.js
cat js/src/sha1-min.js >> build/library.js
cat js/src/sha256-min.js >> build/library.js
cat js/src/sha512-min.js >> build/library.js

# Startup script (init)
cat js/init.min.js >> build/library.js

# copy css images
cp css/console/* build/console
cp css/dumbcrossfade/* build/dumbcrossfade
cp css/images/* build/images
